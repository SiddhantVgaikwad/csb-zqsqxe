{"version":3,"sources":["src/index.js"],"names":["window","HUB_EVENTS","ASSET_ADDED","ASSET_DELETED","ASSET_DESELECTED","ASSET_SELECTED","ASSET_UPDATED","CONSOLE_CHANGE","CONSOLE_CLOSED","CONSOLE_EVENT","CONSOLE_OPENED","CONSOLE_RUN_COMMAND","CONSOLE_SERVER_CHANGE","EMBED_ACTIVE_PEN_CHANGE","EMBED_ACTIVE_THEME_CHANGE","EMBED_ATTRIBUTE_CHANGE","EMBED_RESHOWN","FORMAT_FINISH","FORMAT_ERROR","FORMAT_START","IFRAME_PREVIEW_RELOAD_CSS","IFRAME_PREVIEW_URL_CHANGE","KEY_PRESS","LINTER_FINISH","LINTER_START","PEN_CHANGE_SERVER","PEN_CHANGE","PEN_EDITOR_CLOSE","PEN_EDITOR_CODE_FOLD","PEN_EDITOR_ERRORS","PEN_EDITOR_EXPAND","PEN_EDITOR_FOLD_ALL","PEN_EDITOR_LOADED","PEN_EDITOR_REFRESH_REQUEST","PEN_EDITOR_RESET_SIZES","PEN_EDITOR_SIZES_CHANGE","PEN_EDITOR_UI_CHANGE_SERVER","PEN_EDITOR_UI_CHANGE","PEN_EDITOR_UI_DISABLE","PEN_EDITOR_UI_ENABLE","PEN_EDITOR_UNFOLD_ALL","PEN_ERROR_INFINITE_LOOP","PEN_ERROR_RUNTIME","PEN_ERRORS","PEN_LIVE_CHANGE","PEN_LOGS","PEN_MANIFEST_CHANGE","PEN_MANIFEST_FULL","PEN_PREVIEW_FINISH","PEN_PREVIEW_START","PEN_SAVED","POPUP_CLOSE","POPUP_OPEN","POST_CHANGE","POST_SAVED","PROCESSING_FINISH","PROCESSING_START","_typeof","CP","PenTimer","programNoLongerBeingMonitored","timeOfFirstCallToShouldStopLoop","_loopExits","_loopTimers","START_MONITORING_AFTER","STOP_ALL_MONITORING_TIMEOUT","MAX_TIME_IN_LOOP_WO_EXIT","exitedLoop","E","shouldStopLoop","programKilledSoStopMonitoring","_","_getTime","o","_checkOnInfiniteLoop","N","_sendErrorMessageToEditor","_shouldPostMessage","topic","data","line","_findAroundLineNumber","parent","postMessage","_throwAnErrorToStopPen","document","location","href","match","Error","stack","Date","shouldStopExecution","console","warn"],"mappings":"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","file":"src.7a8fc96c.js","sourceRoot":"..","sourcesContent":["(window.HUB_EVENTS = {\n  ASSET_ADDED: \"ASSET_ADDED\",\n  ASSET_DELETED: \"ASSET_DELETED\",\n  ASSET_DESELECTED: \"ASSET_DESELECTED\",\n  ASSET_SELECTED: \"ASSET_SELECTED\",\n  ASSET_UPDATED: \"ASSET_UPDATED\",\n  CONSOLE_CHANGE: \"CONSOLE_CHANGE\",\n  CONSOLE_CLOSED: \"CONSOLE_CLOSED\",\n  CONSOLE_EVENT: \"CONSOLE_EVENT\",\n  CONSOLE_OPENED: \"CONSOLE_OPENED\",\n  CONSOLE_RUN_COMMAND: \"CONSOLE_RUN_COMMAND\",\n  CONSOLE_SERVER_CHANGE: \"CONSOLE_SERVER_CHANGE\",\n  EMBED_ACTIVE_PEN_CHANGE: \"EMBED_ACTIVE_PEN_CHANGE\",\n  EMBED_ACTIVE_THEME_CHANGE: \"EMBED_ACTIVE_THEME_CHANGE\",\n  EMBED_ATTRIBUTE_CHANGE: \"EMBED_ATTRIBUTE_CHANGE\",\n  EMBED_RESHOWN: \"EMBED_RESHOWN\",\n  FORMAT_FINISH: \"FORMAT_FINISH\",\n  FORMAT_ERROR: \"FORMAT_ERROR\",\n  FORMAT_START: \"FORMAT_START\",\n  IFRAME_PREVIEW_RELOAD_CSS: \"IFRAME_PREVIEW_RELOAD_CSS\",\n  IFRAME_PREVIEW_URL_CHANGE: \"IFRAME_PREVIEW_URL_CHANGE\",\n  KEY_PRESS: \"KEY_PRESS\",\n  LINTER_FINISH: \"LINTER_FINISH\",\n  LINTER_START: \"LINTER_START\",\n  PEN_CHANGE_SERVER: \"PEN_CHANGE_SERVER\",\n  PEN_CHANGE: \"PEN_CHANGE\",\n  PEN_EDITOR_CLOSE: \"PEN_EDITOR_CLOSE\",\n  PEN_EDITOR_CODE_FOLD: \"PEN_EDITOR_CODE_FOLD\",\n  PEN_EDITOR_ERRORS: \"PEN_EDITOR_ERRORS\",\n  PEN_EDITOR_EXPAND: \"PEN_EDITOR_EXPAND\",\n  PEN_EDITOR_FOLD_ALL: \"PEN_EDITOR_FOLD_ALL\",\n  PEN_EDITOR_LOADED: \"PEN_EDITOR_LOADED\",\n  PEN_EDITOR_REFRESH_REQUEST: \"PEN_EDITOR_REFRESH_REQUEST\",\n  PEN_EDITOR_RESET_SIZES: \"PEN_EDITOR_RESET_SIZES\",\n  PEN_EDITOR_SIZES_CHANGE: \"PEN_EDITOR_SIZES_CHANGE\",\n  PEN_EDITOR_UI_CHANGE_SERVER: \"PEN_EDITOR_UI_CHANGE_SERVER\",\n  PEN_EDITOR_UI_CHANGE: \"PEN_EDITOR_UI_CHANGE\",\n  PEN_EDITOR_UI_DISABLE: \"PEN_EDITOR_UI_DISABLE\",\n  PEN_EDITOR_UI_ENABLE: \"PEN_EDITOR_UI_ENABLE\",\n  PEN_EDITOR_UNFOLD_ALL: \"PEN_EDITOR_UNFOLD_ALL\",\n  PEN_ERROR_INFINITE_LOOP: \"PEN_ERROR_INFINITE_LOOP\",\n  PEN_ERROR_RUNTIME: \"PEN_ERROR_RUNTIME\",\n  PEN_ERRORS: \"PEN_ERRORS\",\n  PEN_LIVE_CHANGE: \"PEN_LIVE_CHANGE\",\n  PEN_LOGS: \"PEN_LOGS\",\n  PEN_MANIFEST_CHANGE: \"PEN_MANIFEST_CHANGE\",\n  PEN_MANIFEST_FULL: \"PEN_MANIFEST_FULL\",\n  PEN_PREVIEW_FINISH: \"PEN_PREVIEW_FINISH\",\n  PEN_PREVIEW_START: \"PEN_PREVIEW_START\",\n  PEN_SAVED: \"PEN_SAVED\",\n  POPUP_CLOSE: \"POPUP_CLOSE\",\n  POPUP_OPEN: \"POPUP_OPEN\",\n  POST_CHANGE: \"POST_CHANGE\",\n  POST_SAVED: \"POST_SAVED\",\n  PROCESSING_FINISH: \"PROCESSING_FINISH\",\n  PROCESSING_START: \"PROCESSED_STARTED\"\n}),\n  \"object\" != typeof window.CP && (window.CP = {}),\n  (window.CP.PenTimer = {\n    programNoLongerBeingMonitored: !1,\n    timeOfFirstCallToShouldStopLoop: 0,\n    _loopExits: {},\n    _loopTimers: {},\n    START_MONITORING_AFTER: 2e3,\n    STOP_ALL_MONITORING_TIMEOUT: 5e3,\n    MAX_TIME_IN_LOOP_WO_EXIT: 2200,\n    exitedLoop: function (E) {\n      this._loopExits[E] = !0;\n    },\n    shouldStopLoop: function (E) {\n      if (this.programKilledSoStopMonitoring) return !0;\n      if (this.programNoLongerBeingMonitored) return !1;\n      if (this._loopExits[E]) return !1;\n      var _ = this._getTime();\n      if (0 === this.timeOfFirstCallToShouldStopLoop)\n        return (this.timeOfFirstCallToShouldStopLoop = _), !1;\n      var o = _ - this.timeOfFirstCallToShouldStopLoop;\n      if (o < this.START_MONITORING_AFTER) return !1;\n      if (o > this.STOP_ALL_MONITORING_TIMEOUT)\n        return (this.programNoLongerBeingMonitored = !0), !1;\n      try {\n        this._checkOnInfiniteLoop(E, _);\n      } catch (N) {\n        return (\n          this._sendErrorMessageToEditor(),\n          (this.programKilledSoStopMonitoring = !0),\n          !0\n        );\n      }\n      return !1;\n    },\n    _sendErrorMessageToEditor: function () {\n      try {\n        if (this._shouldPostMessage()) {\n          var E = {\n            topic: HUB_EVENTS.PEN_ERROR_INFINITE_LOOP,\n            data: {\n              line: this._findAroundLineNumber()\n            }\n          };\n          parent.postMessage(E, \"*\");\n        } else this._throwAnErrorToStopPen();\n      } catch (_) {\n        this._throwAnErrorToStopPen();\n      }\n    },\n    _shouldPostMessage: function () {\n      return document.location.href.match(/boomboom/);\n    },\n    _throwAnErrorToStopPen: function () {\n      throw \"We found an infinite loop in your Pen. We've stopped the Pen from running. More details and workarounds at https://blog.codepen.io/2016/06/08/can-adjust-infinite-loop-protection-timing/\";\n    },\n    _findAroundLineNumber: function () {\n      var E = new Error(),\n        _ = 0;\n      if (E.stack) {\n        var o = E.stack.match(/boomboom\\S+:(\\d+):\\d+/);\n        o && (_ = o[1]);\n      }\n      return _;\n    },\n    _checkOnInfiniteLoop: function (E, _) {\n      if (!this._loopTimers[E]) return (this._loopTimers[E] = _), !1;\n      var o;\n      if (_ - this._loopTimers[E] > this.MAX_TIME_IN_LOOP_WO_EXIT)\n        throw \"Infinite Loop found on loop: \" + E;\n    },\n    _getTime: function () {\n      return +new Date();\n    }\n  }),\n  (window.CP.shouldStopExecution = function (E) {\n    var _ = window.CP.PenTimer.shouldStopLoop(E);\n    return (\n      !0 === _ &&\n        console.warn(\n          \"[CodePen]: An infinite loop (or a loop taking too long) was detected, so we stopped its execution. More details at https://blog.codepen.io/2016/06/08/can-adjust-infinite-loop-protection-timing/\"\n        ),\n      _\n    );\n  }),\n  (window.CP.exitedLoop = function (E) {\n    window.CP.PenTimer.exitedLoop(E);\n  });\n"]}